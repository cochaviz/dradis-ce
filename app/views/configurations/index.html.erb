<% content_for :title, 'Configuration Manager' %>

<% unless @configs.count == 0 %>
  <div class="content-container">
    <h4 class="mb-3">You haven't enabled any add-ons that require configuration</h4>
    <p>Import plugins like <a href="http://vulndbhq.com" target="_blank">VulnDB</a> or <a href="https://dradis.com/integrations/mediawiki.html?utm_source=ce&utm_medium=app" target="_blank">MediaWiki</a> require configuration and will display here when they are enabled.</p>
    <p class="mb-0">For more details on enabling add-ons, see our <a href="https://dradis.com/ce/documentation/add-ons.html" target="_blank">Enable/Disable Add-ons</a> guide.</p>
  </div>
<% else %>

  <div class="row p-0">
    <div class="col-md-12 col-lg-8 col-xxl-9 ">
      <div class="content-container">
        <%= form_tag project_configurations_path(current_project) do %>
          <% @configs.each do |configuration| %>
            <%= render partial: configuration[:type], object: configuration %>
          <% end %>
        <% end %>
      </div>
    </div>

    <div class="col-lg-4 col-xxl-3 d-none d-lg-block">
      <div class="content-container sticky-top sticky-top-with-title">
        <h4 class="header-underline">Quick Nav</h4>
        <nav class="d-flex flex-column">
          <% @configs.each do |configuration| -%>
            <%= link_to configuration[:name], {anchor: configuration[:name]}, class: 'nav-link' %>
          <% end -%>
        </nav>
      </div>
    </div>
  </div>

<% end %>
